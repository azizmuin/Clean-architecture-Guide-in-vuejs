<template>
    <div class="px-5 py-2 shadow-lg flex justify-between fixed top-0 left-0 right-0 z-10 bg-white">
        <div>
            <img height="88" src="../../assets/logo.svg" alt="">
        </div>

        <div class="flex space-x-3 ">
            <button v-if="state.isAuthenticated" class="rounded-full bg-main h-10 w-10 flex justify-center items-center">
                <svg width="24" height="21" viewBox="0 0 24 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M15.069 1.09202C14.1177 0.70955 13.0811 0.5 11.9999 0.5C7.80476 0.5 4.28055 3.65431 3.81728 7.82374L3.50253 10.6565L3.49497 10.7241C3.35393 11.9531 2.95388 13.1382 2.32122 14.2014L2.28628 14.2596L1.56374 15.4639L1.53355 15.5142C1.23165 16.0173 0.958128 16.4731 0.77594 16.8599C0.590791 17.253 0.392828 17.7858 0.488116 18.3896C0.582303 18.9866 0.889528 19.5291 1.35293 19.9171C1.82177 20.3095 2.38037 20.4137 2.81273 20.4572C3.23819 20.5001 3.76975 20.5 4.35649 20.5H4.41512H19.5845H19.6431C20.2299 20.5 20.7615 20.5001 21.187 20.4572C21.6192 20.4137 22.1779 20.3095 22.6467 19.9171C23.1101 19.5291 23.4174 18.9866 23.5115 18.3896C23.6069 17.7858 23.4089 17.253 23.2237 16.8599C23.0415 16.4731 22.768 16.0173 22.4661 15.5142L22.4359 15.4639L21.7134 14.2596L21.6785 14.2014C21.205 13.4059 20.8619 12.542 20.66 11.6425C20.2841 11.7131 19.8962 11.75 19.4999 11.75C19.0199 11.75 18.5526 11.6959 18.1036 11.5935C18.3344 12.9644 18.8175 14.2824 19.5301 15.4799L19.5696 15.5459L20.2922 16.7501C20.6341 17.32 20.8401 17.6663 20.962 17.9251C20.9686 17.9392 20.9747 17.9526 20.9804 17.965C20.9669 17.9666 20.9522 17.9683 20.9367 17.9699C20.652 17.9985 20.249 18 19.5845 18H4.41512C3.75063 18 3.34765 17.9985 3.06298 17.9699C3.04742 17.9683 3.03285 17.9666 3.01928 17.965C3.02488 17.9526 3.03099 17.9392 3.03767 17.9251C3.15957 17.6663 3.36559 17.32 3.70748 16.7501L4.43002 15.5459L4.46955 15.4799C5.28299 14.113 5.79733 12.5892 5.97867 11.0091L5.98724 10.9326L6.30199 8.09981C6.62458 5.19648 9.07863 3 11.9999 3C12.5786 3 13.139 3.08623 13.6682 3.24709C13.9831 2.43243 14.4639 1.70029 15.069 1.09202ZM18.2275 3.34755C17.4926 3.7829 16.9999 4.58391 16.9999 5.5C16.9999 5.68129 17.0191 5.85806 17.0557 6.0284C17.2062 6.3095 17.3342 6.60505 17.437 6.91276C17.8875 7.56934 18.6434 8 19.4999 8C19.7396 8 19.9716 7.96623 20.1912 7.90318L20.1824 7.82374C19.9921 6.11094 19.2852 4.56944 18.2275 3.34755Z"
                        fill="#636363" />
                </svg>
            </button>

            <button @click="logout" class="rounded-full bg-main h-10 w-10 flex justify-center items-center">
                <span>S</span>
            </button>
        </div>
    </div>
</template>


<script setup lang="ts">
import { dependencyLocator } from '@/core/dependicies/dependencyLocator';
import useAUthState from '@/presentation/bloc/auth/authState';
import router from '@/presentation/router';


const state = useAUthState();
const authPloc = dependencyLocator.provideAuthPloc(state);

const logout = () => {
    authPloc.logout();
    router.push('/auth/login');
}

</script>